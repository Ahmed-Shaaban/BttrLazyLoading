/*
BttrLazyLoading, Responsive Lazy Loading plugin for JQuery
by Julien Renaux http://bttrlazyloading.julienrenaux.fr

Version: 1.0.8

Full source at https://github.com/shprink/BttrLazyLoading

MIT License, https://github.com/shprink/BttrLazyLoading/blob/master/LICENSE
*/
(function(){"use strict";var t,i,n,o={}.hasOwnProperty;t=jQuery,i=function(){function i(i,n){var o;null==n&&(n={}),this.$img=t(i),this.loaded=!1,this.loading=!1,o=t.extend(!0,{},t.bttrlazyloading.constructor.options),this.options=t.extend(!0,o,n),this.breakpoints=t.bttrlazyloading.constructor.breakpoints,this.$container=t(this.options.container),"number"==typeof window.devicePixelRatio&&(this.constructor.dpr=window.devicePixelRatio),this.whiteList=["lg","md","sm","xs"],this.blackList=[],p.call(this),this.$wrapper=t('<span class="bttrlazyloading-wrapper"></span>'),this.options.wrapperClasses&&"string"==typeof this.options.wrapperClasses&&this.$wrapper.addClass(this.options.wrapperClasses),this.$img.before(this.$wrapper),this.$clone=t('<canvas class="bttrlazyloading-clone"></canvas>'),f.call(this),this.$wrapper.append(this.$clone),this.$img.hide(),this.$wrapper.append(this.$img),this.options.backgroundcolor&&this.$wrapper.css("background-color",this.options.backgroundcolor),u.call(this,"on"),setTimeout(function(t){return function(){return g.call(t)}}(this),100)}var n,r,e,a,s,l,h,A,c,d,p,u,g,f;return i.dpr=1,f=function(){var t;return t=a.call(this),this.$clone.attr("width",t.width),this.$clone.attr("height",t.height)},p=function(){var i,n,r,e;r=this.$img.data(),e=[];for(i in r)o.call(r,i)&&(n=r[i],(null==n||0===i.indexOf("bttrlazyloading"))&&(i=i.replace("bttrlazyloading","").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().split("-"),i.length>1?"undefined"!=typeof this.options[i[0]][i[1]]?e.push(this.options[i[0]][i[1]]=n):e.push(void 0):"object"==typeof n?e.push(t.extend(this.options[i[0]],n)):"undefined"!=typeof this.options[i[0]]?e.push(this.options[i[0]]=n):e.push(void 0)));return e},u=function(i){var o,s,l,h;return l=function(t){return function(){return t.$clone.hide(),t.$img.show(),t.$wrapper.addClass("bttrlazyloading-loaded"),t.$img.addClass("animated "+n.call(t)),t.loaded=t.$img.attr("src"),t.$img.trigger("bttrlazyloading.afterLoad")}}(this),this.$img[i]("load",l),o=function(t){return function(){var i;return t.loading?void 0:(t.loading=!0,i=a.call(t),t.loaded?(t.$wrapper.removeClass("bttrlazyloading-loaded"),t.$img.removeClass("animated "+r.call(t)),t.$img.removeAttr("src"),t.$img.hide(),t.$clone.attr("width",i.width),t.$clone.attr("height",i.height),t.$clone.show()):t.$wrapper.css("background-image","url('"+t.options.placeholder+"')"),setTimeout(function(){return t.$img.trigger("bttrlazyloading.beforeLoad"),t.$img.data("bttrlazyloading.range",i.range),t.$img.attr("src",e.call(t,i.src,i.range)),t.loading=!1},t.options.delay))}}(this),this.$img[i]("bttrlazyloading.load",o),s=function(t){return function(){var i,n;if(n=t.$img.attr("src"),i=t.$img.data("bttrlazyloading.range"),t.constructor.dpr>=2&&t.options.retina&&n.match(/@2x/gi))t.blackList.push(i+"@2x");else if(t.blackList.push(i),t.whiteList.splice(t.whiteList.indexOf(i),1),0===t.whiteList.length)return t.$img.trigger("bttrlazyloading.error"),!1;return t.$img.trigger("bttrlazyloading.load")}}(this),this.$img[i]("error",s),h=function(t){return function(){return g.call(t)}}(this),this.$container[i](this.options.event,h),this.options.container!==window&&t(window)[i](this.options.event,h),t(window)[i]("resize",h)},n=function(){var t;return t=a.call(this),t.animation?t.animation:this.options.animation},r=function(){var t,i,n,o,r,e,a;for(t=[],a=this.whiteList,n=r=0,e=a.length;e>r;n=++r)o=a[n],i=s.call(this,o),i.animation?t.push(i.animation):t.push(this.options.animation);return t=d.call(this,t),t.join(" ")},d=function(t){var i,n,o,r,e,a;if(0===t.length)return[];for(n={},i=r=0,e=t.length-1;e>=0?e>=r:r>=e;i=e>=0?++r:--r)n[t[i]]=t[i];a=[];for(i in n)o=n[i],a.push(o);return a},h=function(){var t;return t=window.innerWidth,t<this.breakpoints.sm?"xs":this.breakpoints.sm<=t&&t<this.breakpoints.md?"sm":this.breakpoints.md<=t&&t<this.breakpoints.lg?"md":this.breakpoints.lg<=t?"lg":void 0},a=function(){return this.range=h.call(this),l.call(this)},e=function(t,i){return this.constructor.dpr>=2&&this.options.retina&&-1===this.blackList.indexOf(i+"@2x")?t.replace(/\.\w+$/,function(t){return"@2x"+t}):t},s=function(t){return"undefined"!=typeof this.options[t].src&&null!==this.options[t].src?this.options[t]:null},l=function(){var t,i,n,o,r,e;if(t=this.whiteList.indexOf(this.range),t>-1&&(n=s.call(this,this.range)))return n.range=this.range,n;for(e=this.whiteList,t=o=0,r=e.length;r>o;t=++o)if(i=e[t],n=s.call(this,i))return n.range=i,n;return""},A=function(){var i,n,o;return!this.loaded&&this.options.triggermanually?!1:this.loaded&&this.options.updatemanually?!1:(i=a.call(this),i.src&&this.loaded!==e.call(this,i.src,i.range)?(o=0,this.loaded||(o=this.options.threshold),n=c.call(this,t(window),{top:t(window).scrollTop()+o,left:t(window).scrollLeft()}),this.options.container!==window?n&&c.call(this,this.$container,{top:this.$container.offset().top+o,left:this.$container.offset().left}):n):!1)},c=function(t,i){var n;return null==i&&(i={}),i.right=i.left+t.width(),i.bottom=i.top+t.height(),n=this.$wrapper.offset(),n.right=n.left+this.$wrapper.outerWidth(),n.bottom=n.top+this.$wrapper.outerHeight(),!(i.right<n.left||i.left>n.right||i.bottom<n.top||i.top>n.bottom)},g=function(){return this.range!==h.call(this)&&f.call(this),A.call(this)?this.$img.trigger("bttrlazyloading.load"):void 0},i.prototype.get$Img=function(){return this.$img},i.prototype.get$Clone=function(){return this.$clone},i.prototype.get$Wrapper=function(){return this.$wrapper},i.prototype.destroy=function(){return this.$wrapper.before(this.$img),this.$wrapper.remove(),u.call(this,"off"),this.$img.off("bttrlazyloading"),this.$wrapper.removeClass("bttrlazyloading-loaded"),this.$img.removeClass(n.call(this)),this.$img.removeData("bttrlazyloading"),this.$img},i}(),t.fn.extend({bttrlazyloading:function(n){return this.each(function(){var o,r;return o=t(this),r=o.data("bttrlazyloading"),"undefined"==typeof r&&(r=new i(this,n),o.data("bttrlazyloading",r)),"string"==typeof n&&"undefined"!=typeof r[n]?r[n].call(r):void 0})}}),t.fn.bttrlazyloading.Constructor=i,n=function(){function i(){}return i.prototype.version="1.0.8",i.breakpoints={xs:767,sm:768,md:992,lg:1200},i.options={xs:{src:null,width:100,height:100,animation:null,backgroundcolor:null},sm:{src:null,width:100,height:100,animation:null,backgroundcolor:null},md:{src:null,width:100,height:100,animation:null,backgroundcolor:null},lg:{src:null,width:100,height:100,animation:null,backgroundcolor:null},retina:!1,animation:"bounceIn",delay:0,event:"scroll",container:window,threshold:0,triggermanually:!1,updatemanually:!1,wrapperClasses:null,backgroundcolor:"#EEE",placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},i.prototype.setOptions=function(i){return null==i&&(i={}),t.extend(!0,this.constructor.options,i),this},i.prototype.setRanges=function(i){return null==i&&(i={}),t.extend(!0,this.constructor.breakpoints,i),this},i.prototype.setBreakPoints=function(i){return null==i&&(i={}),t.extend(!0,this.constructor.breakpoints,i),this},i}(),t.bttrlazyloading=new n}).call(this);