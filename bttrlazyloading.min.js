!function(){var t;t=function(){function t(t,o){var i=this;this.img=t,null==o&&(o={}),this.$img=$(this.img),this.loaded=!1,this.levels=["xs","sm","md","lg"],this.options=$.extend({xs:{width:768,src:"",srcRetina:""},sm:{width:768,src:"",srcRetina:""},md:{width:992,src:"",srcRetina:""},lg:{width:1200,src:"",srcRetina:""},effect:{type:"fadeIn",duration:200},event:"scroll",container:window,onBeforeLoad:function(){},onAfterLoad:function(){},threshold:0,placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},o),this.container=$(this.options.container),this.dpr=this.container.devicePixelRatio||1,$.each(this.$img.data(),function(t,o){var e;return o&&(e="set"+t.replace("bttrlazyloading",""),"undefined"!=typeof i[e])?i[e](o):void 0}),this.$img.css({"background-image":"url('"+this.options.placeholder+"')","background-repeat":"no-repeat","background-position":"center"}),this._setupEvents(),this.update()}return t.prototype._setupEvents=function(){var t=this;return this.$img.bind(this.options.event,function(){return this.update()}),this.$img.bind("load",function(){return t.$img.hide(),t.$img[t.options.effect.type](t.options.effect.duration),t.loaded=t._getToBeLoadedObject(),"function"==typeof t.options.onAfterLoad?t.options.onAfterLoad():void 0}),this.$img.one("bttrLoad",function(){return t.loaded?void 0:("function"==typeof t.options.onBeforeLoad&&t.options.onBeforeLoad(),setTimeout(function(){var o;return o=t._getToBeLoadedObject(),t.$img.attr("src",o.src)},1e3))}),$(window).bind(this.options.event,function(){return t.update()}),$(window).bind("resize",function(){return console.log("resize event"),t.update()})},t.prototype._getToBeLoadedObject=function(){var t,o;return o=window.innerWidth,t={src:"",level:""},o*this.dpr<this.options.xs.width?(t.level="xs",t.src=this.dpr>1?this.options.xs.srcRetina:this.options.xs.src):o*this.dpr<this.options.sm.width?(t.level="sm",t.src=this.dpr>1?this.options.sm.srcRetina:this.options.sm.src):o*this.dpr<this.options.md.width?(t.level="md",t.src=this.dpr>1?this.options.md.srcRetina:this.options.md.src):(t.level="lg",t.src=this.dpr>1?this.options.lg.srcRetina:this.options.lg.src),t},t.prototype._isVisible=function(){var t,o,i,e;return this.$img.is(":hidden")?!1:(e=this.container.scrollTop(),i=e+this.container.height(),o=this.$img.offset().top,t=o+this.$img.height(),t>=e-this.options.threshold&&o<=i+this.options.threshold)},t.prototype.update=function(){return this.loaded?console.log("updating"):this._isVisible()?this.$img.trigger("bttrLoad"):void 0},t.prototype.setThreshold=function(t){return console.log("threshold"),this.options.threshold=t},t.prototype.setXs=function(t){return null==t&&(t={}),$.extend(this.options.xs,t)},t.prototype.setXsSrc=function(t){return console.log("setXsSrc"),this.options.xs.src=t},t.prototype.setXsSrcRetina=function(t){return console.log("setXsSrcRetina"),this.options.xs.srcRetina=t},t.prototype.setSm=function(t){return null==t&&(t={}),$.extend(this.options.sm,t)},t.prototype.setSmSrc=function(t){return console.log("setSmSrc"),this.options.sm.src=t},t.prototype.setSmSrcRetina=function(t){return console.log("setSmSrcRetina"),this.options.sm.srcRetina=t},t.prototype.setMd=function(t){return null==t&&(t={}),$.extend(this.options.md,t)},t.prototype.setMdSrc=function(t){return console.log("setMdSrc"),this.options.md.src=t},t.prototype.setMdSrcRetina=function(t){return console.log("setMdSrcRetina"),this.options.md.srcRetina=t},t.prototype.setLg=function(t){return null==t&&(t={}),$.extend(this.options.lg,t)},t.prototype.setLgSrc=function(t){return console.log("setLgSrc"),this.options.lg.src=t},t.prototype.setLgSrcRetina=function(t){return console.log("setLgSrcRetina"),this.options.lg.srcRetina=t},t}(),jQuery.fn.extend({bttrlazyloading:function(o){return this.each(function(){var i,e;return i=$(this),i.hasClass("bttrlazyloading-done")?void 0:(e=new t(this,o),i.addClass("bttrlazyloading-done"),i.data("bttrlazyloading",e))}),this}})}.call(this);