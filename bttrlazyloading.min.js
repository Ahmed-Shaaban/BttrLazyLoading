!function(){var t;t=function(){function t(t,i){var n=this;this.img=t,null==i&&(i={}),this.$img=$(this.img),this.loaded=!1,this.ranges=["xs","sm","md","lg"],this.options=$.extend({xs:{width:768,src:null},sm:{width:768,src:null},md:{width:992,src:null},lg:{width:1200,src:null},transitionDuration:200,event:"scroll",container:window,onBeforeLoad:function(){},onAfterLoad:function(){},onError:function(){},threshold:0,placeholder:"data:image/gif;base64,R0lGODlhEAALAPQAAP/391tbW+bf3+Da2vHq6l5dXVtbW3h2dq6qqpiVldLMzHBvb4qHh7Ovr5uYmNTOznNxcV1cXI2Kiu7n5+Xf3/fw8H58fOjh4fbv78/JycG8vNzW1vPs7AAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCwAAACwAAAAAEAALAAAFLSAgjmRpnqSgCuLKAq5AEIM4zDVw03ve27ifDgfkEYe04kDIDC5zrtYKRa2WQgAh+QQJCwAAACwAAAAAEAALAAAFJGBhGAVgnqhpHIeRvsDawqns0qeN5+y967tYLyicBYE7EYkYAgAh+QQJCwAAACwAAAAAEAALAAAFNiAgjothLOOIJAkiGgxjpGKiKMkbz7SN6zIawJcDwIK9W/HISxGBzdHTuBNOmcJVCyoUlk7CEAAh+QQJCwAAACwAAAAAEAALAAAFNSAgjqQIRRFUAo3jNGIkSdHqPI8Tz3V55zuaDacDyIQ+YrBH+hWPzJFzOQQaeavWi7oqnVIhACH5BAkLAAAALAAAAAAQAAsAAAUyICCOZGme1rJY5kRRk7hI0mJSVUXJtF3iOl7tltsBZsNfUegjAY3I5sgFY55KqdX1GgIAIfkECQsAAAAsAAAAABAACwAABTcgII5kaZ4kcV2EqLJipmnZhWGXaOOitm2aXQ4g7P2Ct2ER4AMul00kj5g0Al8tADY2y6C+4FIIACH5BAkLAAAALAAAAAAQAAsAAAUvICCOZGme5ERRk6iy7qpyHCVStA3gNa/7txxwlwv2isSacYUc+l4tADQGQ1mvpBAAIfkECQsAAAAsAAAAABAACwAABS8gII5kaZ7kRFGTqLLuqnIcJVK0DeA1r/u3HHCXC/aKxJpxhRz6Xi0ANAZDWa+kEAA7AAAAAAAAAAAA"},i),this.container=$(this.options.container),this.dpr=window.devicePixelRatio||1,$.each(this.$img.data(),function(t,i){var o;return i&&(o="set"+t.replace("bttrlazyloading",""),"undefined"!=typeof n[o])?n[o](i):void 0}),console.log(this.$img.width()),console.log(this.$img.height()),this.$img.css({"background-image":"url('"+this.options.placeholder+"')","background-repeat":"no-repeat","background-position":"center"}),this._setupEvents(),this.update()}return t.prototype._setupEvents=function(){var t=this;return this.$img.bind(this.options.event,function(){return this.update()}),this.$img.bind("load",function(){return t.$img.css("opacity",0),t.$img.animate({opacity:1},t.options.transitionDuration),t.$img.attr("width",t.$img[0].naturalWidth),t.$img.attr("height",t.$img[0].naturalHeight),t.loaded=t.$img.attr("src"),"function"==typeof t.options.onAfterLoad?t.options.onAfterLoad(t.$img,t):void 0}),this.$img.one("bttrLoad",function(){var i;return t.loaded?void 0:("function"==typeof t.options.onBeforeLoad&&t.options.onBeforeLoad(t.$img,t),i=t._getScreenSrc(),console.log(i,"bttrLoad src"),t.dpr>1?t.$img.attr("src",t._getRetinaSrc(i)):t.$img.attr("src",i))}),$(window).bind(this.options.event,function(){return t.update()}),$(window).bind("resize",function(){return t.update()})},t.prototype._getScreenSrc=function(){var t,i,n;return t=window.innerWidth,t*this.dpr<this.options.xs.width?this._getLargestExistingSrc("xs"):this.options.sm.width<=(i=t*this.dpr)&&i<this.options.md.width?this._getLargestExistingSrc("sm"):this.options.md.width<=(n=t*this.dpr)&&n<this.options.lg.width?this._getLargestExistingSrc("md"):this.options.lg.width<=t*this.dpr?this._getLargestExistingSrc("lg"):void 0},t.prototype._getRetinaSrc=function(t){return t.replace(/\.\w+$/,function(t){return"@2x"+t})},t.prototype._getSrc=function(t){return"undefined"!=typeof this.options[t].src&&null!==this.options[t].src?this.options[t].src:""},t.prototype._getLargestExistingSrc=function(t){var i,n,o,s,e,r,A;if(n=this.ranges.indexOf(t),s=this._getSrc(t),""!==s)return s;for(o=this.ranges.length-1,i=r=n;o>=n?o>=r:r>=o;i=o>=n?++r:--r)t=this.ranges[i],e=this._getSrc(t),e&&(s=e);if(""!==s)return s;for(i=A=0;n>=0?n>=A:A>=n;i=n>=0?++A:--A)t=this.ranges[i],e=this._getSrc(t),e&&(s=e);return""!==s?s:("function"==typeof this.options.onError&&this.options.onError(this.$img,this),"")},t.prototype._isVisible=function(){var t,i,n,o;return this.$img.is(":hidden")?!1:(o=this.container.scrollTop(),n=o+this.container.height(),i=this.$img.offset().top,t=i+this.$img.height(),t>=o-this.options.threshold&&i<=n+this.options.threshold)},t.prototype.update=function(){var t;if(this.loaded){if(this._isVisible()&&(t=this._getScreenSrc(),console.log(t,"update"),t&&this.loaded!==t))return this.loaded=t,this.dpr>1?this.$img.attr("src",this._getRetinaSrc(t)):this.$img.attr("src",t)}else if(this._isVisible())return this.$img.trigger("bttrLoad")},t.prototype.setThreshold=function(t){return this.options.threshold=t},t.prototype.setEvent=function(t){return null==t&&(t=""),this.options.event=t},t.prototype.setContainer=function(t){return this.options.container=t},t.prototype.setPlaceholder=function(t){return null==t&&(t=""),this.options.placeholder=t},t.prototype.setTransitionDuration=function(t){return this.options.transitionDuration=t},t.prototype.setXs=function(t){return null==t&&(t={}),$.extend(this.options.xs,t)},t.prototype.setXsSrc=function(t){return this.options.xs.src=t},t.prototype.setSm=function(t){return null==t&&(t={}),$.extend(this.options.sm,t)},t.prototype.setSmSrc=function(t){return this.options.sm.src=t},t.prototype.setMd=function(t){return null==t&&(t={}),$.extend(this.options.md,t)},t.prototype.setMdSrc=function(t){return this.options.md.src=t},t.prototype.setLg=function(t){return null==t&&(t={}),$.extend(this.options.lg,t)},t.prototype.setLgSrc=function(t){return this.options.lg.src=t},t}(),jQuery.fn.extend({bttrlazyloading:function(i){return this.each(function(){var n,o;return n=$(this),n.hasClass("bttrlazyloading-done")?void 0:(o=new t(this,i),n.addClass("bttrlazyloading-done"),n.data("bttrlazyloading",o))})}})}.call(this);