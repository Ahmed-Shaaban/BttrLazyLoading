<!DOCTYPE html>
<html>
	<head>
		<title></title>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="../bower_components/jasmine/lib/jasmine-core/jasmine.css">
		<script type="text/javascript" src="../bower_components/jasmine/lib/jasmine-core/jasmine.js"></script>
		<script type="text/javascript" src="../bower_components/jasmine/lib/jasmine-core/jasmine-html.js"></script>
		<script src="../bower_components/jquery/jquery.min.js"></script>
		<script src="../bttrlazyloading.js"></script>
		<!-- SPEC -->
		<script type="text/javascript">
			$(document).ready(function() {
				describe("Jquery Data", function() {
					var obj = $("#test").bttrlazyloading().data('bttrlazyloading');

					it("set the right image src", function() {
						expect(obj.options.xs.src).toEqual("../demo/img/768x200.gif");
						expect(obj.options.sm.src).toEqual("../demo/img/345x250.gif");
						expect(obj.options.md.src).toEqual("../demo/img/455x350.gif");
						expect(obj.options.lg.src).toEqual("../demo/img/360x300.gif");
					});

					it("set the right ranges", function() {
						expect(obj.options.xs.range).toEqual(1);
						expect(obj.options.sm.range).toEqual(2);
						expect(obj.options.md.range).toEqual(3);
						expect(obj.options.lg.range).toEqual(4);
					});

					it("set the right options", function() {
						expect(obj.options.transition).toEqual('rotatedIn');
						expect(obj.options.event).toEqual("mouseover");
						expect(obj.options.container).toEqual("document.body");
						expect(obj.options.threshold).toEqual(500);
						expect(obj.options.placeholder).toEqual("data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==");
					});

					it("set the default global ranges", function() {
						$.bttrlazyloading.setOptions({
							xs: {
								range: 5
							},
							sm: {
								range: 6
							},
							md: {
								range: 7
							},
							lg: {
								range: 8
							}
						});
						var obj2 = $("#test2").bttrlazyloading().data('bttrlazyloading');
						expect(obj2.options.xs.range).toEqual(5);
						expect(obj2.options.sm.range).toEqual(6);
						expect(obj2.options.md.range).toEqual(7);
						expect(obj2.options.lg.range).toEqual(8);
					});

					it("set the default ranges", function() {
						var obj2 = $("#test3").bttrlazyloading({
							xs: {
								range: 1
							},
							sm: {
								range: 2
							},
							md: {
								range: 3
							},
							lg: {
								range: 4
							}
						}).data('bttrlazyloading');
						expect(obj2.options.xs.range).toEqual(1);
						expect(obj2.options.sm.range).toEqual(2);
						expect(obj2.options.md.range).toEqual(3);
						expect(obj2.options.lg.range).toEqual(4);
					});
				});
			});
		</script>
		<script type="text/javascript">
			(function() {
				var jasmineEnv = jasmine.getEnv();
				jasmineEnv.updateInterval = 1000;

				var trivialReporter = new jasmine.TrivialReporter();

				jasmineEnv.addReporter(trivialReporter);

				jasmineEnv.specFilter = function(spec) {
					return trivialReporter.specFilter(spec);
				};

				var currentWindowOnload = window.onload;

				window.onload = function() {
					if (currentWindowOnload) {
						currentWindowOnload();
					}
					execJasmine();
				};

				function execJasmine() {
					jasmineEnv.execute();
				}

			})();
		</script>
	</head>
	<body>
		<img id="test" src="" width="200" height="200"
			 data-bttrlazyloading-xs-src="../demo/img/768x200.gif"
			 data-bttrlazyloading-sm-src="../demo/img/345x250.gif"
			 data-bttrlazyloading-md-src="../demo/img/455x350.gif"
			 data-bttrlazyloading-lg-src="../demo/img/360x300.gif"
			 data-bttrlazyloading-xs-range="1"
			 data-bttrlazyloading-sm-range="2"
			 data-bttrlazyloading-md-range="3"
			 data-bttrlazyloading-lg-range="4"
			 data-bttrlazyloading-transition="rotatedIn"
			 data-bttrlazyloading-event="mouseover"
			 data-bttrlazyloading-container="document.body"
			 data-bttrlazyloading-threshold="500"
			 data-bttrlazyloading-placeholder="data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=="
			 />

		<img id="test2" src="" width="200" height="200"/>

		<img id="test3" src="" width="200" height="200"/>
	</body>
</html>
